STACK SEGMENT STACK
	DW 64 DUP(?)
STACK ENDS

CODE SEGMENT
	ASSUME CS:CODE

START:	PUSH DS
	MOV AX,0000H
	MOV DS,AX
	MOV AX,OFFSET IRQ7
	ADD AX,2000H
	MOV SI,003CH
	MOV [SI],AX
	MOV AX,0000H
	MOV SI,003EH
	MOV [SI],AX
	CLI
	POP DS
	IN AL,21H
	AND AL,7FH
	OUT 21H,AL
	MOV CX,000AH
A1:	CMP CX,0000H
	JNZ A2
	IN AL,21H
	OR AL,80H
	OUT 21H,AL
	STI
	HLT
A2:	STI
	JMP A1

IRQ7:	MOV AX,0137H
	INT 10H
	MOV AX,0120H
	INT 10H
	DEC CX
	MOV AL,20H
	OUT 20H,AL
	CLI
	IRET 	
CODE ENDS
     END START